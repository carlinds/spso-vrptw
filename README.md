# Set-based Particle Swarm Optimization for the VRPTW
This project is a Python-implementation of a Set-based Particle Swarm Optimization (SPSO) for solving the Vehicle Routing Problem with Time Windows (VRPTW). 
The SPSO is implemented purely for testing purposes, more specifically for testing on the [Solomon instances](https://www.sintef.no/projectweb/top/vrptw/solomon-benchmark/). The results from these tests are presented below and discussed in more detail in the paper "Comparison of Exact and Approximate methods for the Vehicle Routing Problem with Time Windows".

## Usage
A single Solomon-instance can be evaluated using `spso\evaluateInstance.py`. All tuning parameters and run-time options are specified in this file.
All instances from the Solomon benchmarks are found in `solomon-instances`.

## Results
The results used in the paper are stored under `results`, where `results\solomon-instances` are the results from evaluating all instances and `results\global-updates` are the results from evaluating a few selected instances with global updates enabled. A more visual representation of the results are presented below.

### Solomon benchmark

#### 25 customers

|Instance|Best NV|Mean NV|Best TD  |Mean TD  |Mean runtime (s) |Mean number of generations|
|--------|-------|-------|---------|---------|------------|--------------------------|
|c101    |3      |3.00   |191.81   |191.81   |23.71       |1363.50                   |
|c102    |3      |3.00   |190.74   |195.15   |38.31       |2128.20                   |
|c103    |3      |3.00   |193.33   |196.72   |64.22       |3393.00                   |
|c104    |3      |3.00   |191.66   |199.49   |70.79       |3646.90                   |
|c105    |3      |3.00   |191.81   |191.81   |27.09       |1530.60                   |
|c106    |3      |3.00   |191.81   |191.81   |24.16       |1375.20                   |
|c107    |3      |3.00   |191.81   |191.81   |32.15       |1803.80                   |
|c108    |3      |3.00   |191.81   |192.86   |55.04       |3004.30                   |
|c109    |3      |3.00   |191.81   |196.61   |62.05       |3354.50                   |
|c201    |2      |2.00   |215.54   |215.54   |21.00       |1227.10                   |
|c202    |1      |1.00   |225.59   |243.27   |47.73       |2640.40                   |
|c203    |1      |1.00   |233.82   |259.64   |77.61       |4140.30                   |
|c204    |1      |1.00   |237.77   |254.72   |56.46       |3089.60                   |
|c205    |1      |1.00   |297.45   |298.29   |31.16       |1836.90                   |
|c206    |1      |1.00   |285.39   |286.72   |26.87       |1561.80                   |
|c207    |1      |1.00   |274.81   |275.48   |41.57       |2478.20                   |
|c208    |1      |1.00   |229.84   |230.08   |36.78       |2183.30                   |
|r101    |8      |8.00   |618.33   |618.33   |27.11       |1351.90                   |
|r102    |7      |7.00   |578.06   |587.28   |40.80       |2033.20                   |
|r103    |4      |4.10   |476.06   |484.37   |56.37       |2915.70                   |
|r104    |4      |4.00   |427.86   |434.43   |62.01       |3138.20                   |
|r105    |5      |5.40   |556.72   |547.85   |42.30       |2173.20                   |
|r106    |5      |5.00   |477.07   |492.22   |49.33       |2561.50                   |
|r107    |4      |4.00   |446.67   |459.77   |55.42       |2820.20                   |
|r108    |4      |4.00   |425.42   |438.00   |61.45       |3108.30                   |
|r109    |4      |4.20   |474.04   |484.19   |53.15       |2728.50                   |
|r110    |4      |4.00   |445.80   |449.64   |49.55       |2541.20                   |
|r111    |4      |4.00   |439.22   |460.85   |58.47       |2987.70                   |
|r112    |4      |4.00   |405.36   |429.23   |47.87       |2444.30                   |
|r201    |2      |2.00   |526.84   |533.91   |34.42       |1976.40                   |
|r202    |2      |2.00   |491.56   |492.37   |42.04       |2370.30                   |
|r203    |2      |2.00   |450.76   |464.24   |58.24       |3134.60                   |
|r204    |1      |1.00   |418.27   |441.24   |69.60       |3825.40                   |
|r205    |1      |1.10   |518.29   |529.86   |46.43       |2550.40                   |
|r206    |1      |1.00   |451.35   |484.49   |53.25       |3023.90                   |
|r207    |1      |1.00   |430.08   |453.56   |71.71       |3951.60                   |
|r208    |1      |1.00   |365.75   |410.12   |62.09       |3435.70                   |
|r209    |1      |1.00   |452.08   |482.20   |47.08       |2601.00                   |
|r210    |1      |1.90   |542.45   |446.48   |47.77       |2580.50                   |
|r211    |1      |1.00   |385.35   |436.94   |52.56       |2922.50                   |
|rc101   |4      |4.00   |462.16   |466.60   |40.25       |2178.60                   |
|rc102   |3      |3.00   |352.79   |352.93   |37.30       |2057.30                   |
|rc103   |3      |3.00   |333.92   |334.10   |34.59       |1933.00                   |
|rc104   |3      |3.00   |307.14   |310.78   |50.41       |2778.50                   |
|rc105   |4      |4.00   |412.38   |412.53   |32.78       |1780.50                   |
|rc106   |3      |3.00   |347.69   |348.96   |48.52       |2654.20                   |
|rc107   |3      |3.00   |301.72   |309.84   |65.97       |3616.70                   |
|rc108   |3      |3.00   |294.99   |301.25   |64.75       |3514.80                   |
|rc201   |2      |2.00   |436.56   |448.00   |32.84       |1922.40                   |
|rc202   |2      |2.00   |393.72   |401.00   |44.06       |2541.50                   |
|rc203   |1      |1.00   |440.47   |456.05   |78.16       |4269.20                   |
|rc204   |1      |1.00   |349.89   |362.48   |46.21       |2640.80                   |
|rc205   |2      |2.00   |388.11   |410.24   |50.00       |2776.00                   |
|rc206   |1      |1.20   |504.48   |497.75   |34.36       |1935.40                   |
|rc207   |1      |1.20   |493.47   |479.97   |50.79       |2797.70                   |
|rc208   |1      |1.00   |314.97   |337.14   |73.65       |4065.60                   |

#### 50 customers

|Instance|Best NV|Mean NV|Best TD  |Mean TD  |Mean runtime (s) |Mean number of generations|
|--------|-------|-------|---------|---------|------------|--------------------------|
|c101    |5      |5.00   |363.25   |363.25   |140.27      |2393.50                   |
|c102    |5      |5.00   |368.97   |375.04   |289.22      |4864.80                   |
|c103    |5      |5.00   |381.48   |411.15   |463.80      |7361.10                   |
|c104    |5      |5.00   |450.31   |496.02   |435.76      |6551.00                   |
|c105    |5      |5.00   |363.25   |363.25   |215.05      |3618.60                   |
|c106    |5      |5.00   |363.25   |363.68   |181.66      |3088.20                   |
|c107    |5      |5.00   |363.25   |366.98   |269.12      |4510.80                   |
|c108    |5      |5.30   |367.08   |414.11   |400.09      |6438.10                   |
|c109    |5      |5.00   |401.45   |504.26   |365.19      |5759.20                   |
|c201    |2      |2.00   |444.96   |444.96   |176.67      |3166.20                   |
|c202    |2      |2.00   |470.05   |514.27   |266.13      |4509.90                   |
|c203    |2      |2.00   |504.84   |572.10   |379.79      |5985.50                   |
|c204    |2      |2.00   |542.97   |617.56   |349.92      |5320.40                   |
|c205    |2      |2.00   |441.44   |445.57   |251.66      |4453.30                   |
|c206    |2      |2.00   |444.96   |452.43   |242.91      |4224.90                   |
|c207    |2      |2.00   |460.99   |485.41   |279.35      |4743.60                   |
|c208    |2      |2.00   |352.29   |361.39   |296.84      |5133.30                   |
|r101    |12     |12.00  |1052.84  |1066.28  |233.02      |3606.40                   |
|r102    |10     |10.00  |958.67   |990.36   |301.06      |4718.20                   |
|r103    |8      |8.00   |843.30   |869.43   |304.93      |4702.80                   |
|r104    |7      |7.00   |764.28   |808.93   |262.98      |3947.00                   |
|r105    |9      |9.10   |949.39   |992.54   |238.50      |3675.90                   |
|r106    |8      |8.00   |885.45   |912.03   |262.95      |4114.10                   |
|r107    |7      |7.00   |815.60   |857.23   |234.73      |3616.30                   |
|r108    |7      |7.00   |794.87   |824.44   |277.48      |4148.80                   |
|r109    |8      |8.20   |918.99   |963.55   |217.25      |3344.30                   |
|r110    |7      |7.80   |857.41   |892.01   |316.54      |4820.00                   |
|r111    |7      |7.00   |808.59   |860.57   |355.64      |5455.00                   |
|r112    |7      |7.00   |783.45   |833.46   |324.66      |4890.50                   |
|r201    |3      |3.00   |925.50   |950.61   |256.57      |4402.60                   |
|r202    |2      |2.10   |936.01   |973.64   |295.30      |5010.10                   |
|r203    |2      |2.00   |853.40   |901.00   |328.97      |5205.60                   |
|r204    |2      |2.00   |718.74   |781.83   |353.85      |5441.40                   |
|r205    |2      |2.00   |906.17   |940.24   |326.67      |5318.90                   |
|r206    |2      |2.00   |777.97   |861.04   |280.16      |4610.30                   |
|r207    |2      |2.00   |838.78   |866.01   |288.76      |4605.40                   |
|r208    |2      |2.00   |732.13   |769.38   |323.47      |5013.50                   |
|r209    |2      |2.00   |848.28   |882.59   |287.69      |4648.90                   |
|r210    |2      |2.00   |875.88   |928.39   |280.36      |4514.40                   |
|r211    |2      |2.00   |796.56   |831.60   |345.13      |5386.00                   |
|rc101   |8      |8.40   |959.31   |972.54   |269.57      |4303.50                   |
|rc102   |7      |7.70   |855.43   |907.23   |283.11      |4500.30                   |
|rc103   |6      |6.80   |740.06   |817.41   |228.50      |3627.30                   |
|rc104   |5      |5.60   |590.28   |665.18   |310.77      |4847.80                   |
|rc105   |8      |8.00   |872.37   |900.87   |330.37      |5250.60                   |
|rc106   |7      |7.20   |838.13   |881.31   |294.41      |4628.90                   |
|rc107   |6      |6.20   |727.36   |781.47   |306.08      |4778.20                   |
|rc108   |6      |6.00   |696.31   |722.61   |272.43      |4265.50                   |
|rc201   |3      |3.00   |859.89   |889.98   |237.15      |4111.20                   |
|rc202   |3      |3.00   |800.71   |820.82   |230.11      |3970.00                   |
|rc203   |2      |2.00   |757.67   |817.99   |367.23      |5981.90                   |
|rc204   |2      |2.00   |585.68   |621.22   |423.49      |6628.00                   |
|rc205   |3      |3.00   |837.05   |865.32   |325.68      |5417.70                   |
|rc206   |2      |2.40   |816.55   |851.79   |278.12      |4630.00                   |
|rc207   |2      |2.00   |810.85   |885.43   |259.80      |4230.20                   |
|rc208   |2      |2.00   |737.27   |775.33   |389.01      |6071.20                   |

#### 100 customers

|Instance|Best NV|Mean NV|Best TD  |Mean TD  |Mean runtime|Mean number of generations|
|--------|-------|-------|---------|---------|------------|--------------------------|
|c101_   |10     |10.40  |829.70   |876.77   |2343.68     |9414.00                   |
|c102_   |11     |11.20  |1238.26  |1437.41  |1855.98     |7371.70                   |
|c103_   |11     |11.00  |1577.15  |1797.07  |2058.23     |7932.40                   |
|c104_   |10     |10.00  |1723.37  |2064.81  |1379.14     |5344.70                   |
|c105_   |12     |12.30  |1129.55  |1321.78  |2356.62     |9331.50                   |
|c106_   |12     |12.30  |1274.90  |1449.54  |2155.86     |8466.60                   |
|c107_   |12     |12.10  |1306.18  |1528.01  |2146.35     |8389.30                   |
|c108_   |12     |12.90  |1702.64  |1911.63  |1768.13     |6874.50                   |
|c109_   |11     |11.80  |1992.95  |1999.56  |1709.21     |6619.00                   |
|c201_   |3      |3.33   |591.56   |631.29   |4639.45     |9888.33                   |
|c202_   |4      |4.00   |1200.29  |1405.29  |2167.44     |8899.40                   |
|c203_   |4      |4.00   |1802.57  |2201.15  |1556.78     |6194.90                   |
|c204_   |4      |4.00   |2120.25  |2294.51  |1456.31     |5746.30                   |
|c205_   |4      |4.00   |817.07   |1046.04  |1549.48     |6624.80                   |
|c206_   |4      |4.00   |1051.08  |1267.34  |2041.77     |8474.00                   |
|c207_   |4      |4.00   |1048.21  |1347.47  |1795.95     |7404.30                   |
|c208_   |4      |4.00   |1164.76  |1360.71  |1853.34     |7650.20                   |
|r101_   |20     |20.20  |1824.57  |1870.06  |1546.84     |5978.80                   |
|r102_   |17     |18.00  |1783.04  |1858.71  |1134.67     |4304.00                   |
|r103_   |15     |15.40  |1735.33  |1811.46  |1633.80     |6101.70                   |
|r104_   |14     |14.20  |1718.29  |1827.23  |1541.43     |5689.80                   |
|r105_   |17     |17.60  |1796.51  |1872.85  |1317.15     |4978.60                   |
|r106_   |14     |15.20  |1665.66  |1773.26  |1831.35     |6917.80                   |
|r107_   |14     |14.70  |1679.22  |1816.99  |1610.44     |5996.10                   |
|r108_   |14     |14.20  |1700.69  |1809.56  |1172.51     |4395.00                   |
|r109_   |15     |15.90  |1936.09  |1839.85  |1522.90     |5743.10                   |
|r110_   |15     |15.30  |1780.83  |1889.41  |1348.30     |5074.10                   |
|r111_   |14     |14.70  |1685.20  |1782.28  |1506.63     |5620.70                   |
|r112_   |14     |14.70  |1858.57  |1914.85  |1140.88     |4312.70                   |
|r201_   |5      |5.00   |1743.37  |1895.86  |1229.49     |5157.00                   |
|r202_   |4      |4.00   |1605.64  |1706.23  |2037.56     |8274.50                   |
|r203_   |4      |4.00   |1870.56  |1929.25  |1709.17     |6730.90                   |
|r204_   |4      |4.00   |1879.91  |1943.84  |1001.84     |4022.70                   |
|r205_   |4      |4.00   |1693.64  |1890.69  |1428.57     |5770.00                   |
|r206_   |4      |4.00   |1625.84  |1735.76  |1340.83     |5415.20                   |
|r207_   |4      |4.00   |1778.46  |1939.49  |1291.62     |5161.00                   |
|r208_   |3      |3.70   |1774.82  |1872.57  |1382.39     |5426.70                   |
|r209_   |4      |4.00   |1742.16  |1910.00  |1379.25     |5555.90                   |
|r210_   |4      |4.00   |1772.60  |1881.67  |1470.50     |5894.30                   |
|r211_   |4      |4.00   |1886.73  |1956.72  |894.99      |3624.50                   |
|rc101_  |17     |18.10  |1996.97  |2074.02  |1836.48     |6849.30                   |
|rc102_  |16     |16.90  |1943.68  |2109.28  |1376.75     |5187.00                   |
|rc103_  |14     |15.00  |1852.31  |2001.15  |1513.86     |5645.40                   |
|rc104_  |14     |14.60  |1855.78  |2029.06  |1277.14     |4757.00                   |
|rc105_  |16     |17.00  |2020.49  |2081.62  |1813.07     |6725.70                   |
|rc106_  |16     |17.10  |2017.83  |2195.08  |1413.37     |5250.20                   |
|rc107_  |15     |16.10  |1962.31  |2125.08  |1374.14     |5106.10                   |
|rc108_  |15     |15.40  |1867.81  |2039.87  |1574.75     |5824.40                   |
|rc201_  |5      |5.40   |2246.20  |2305.71  |1418.97     |5861.10                   |
|rc202_  |5      |5.00   |1990.19  |2139.01  |1551.09     |6301.60                   |
|rc203_  |4      |4.80   |2261.94  |2377.22  |1164.13     |4674.20                   |
|rc204_  |4      |4.00   |2132.28  |2265.00  |1213.63     |4788.70                   |
|rc205_  |5      |5.10   |2084.23  |2292.17  |1579.24     |6372.10                   |
|rc206_  |4      |4.80   |2038.75  |2269.30  |1164.13     |4735.90                   |
|rc207_  |5      |5.00   |2351.22  |2468.01  |734.49      |3039.90                   |
|rc208_  |4      |4.30   |2192.69  |2415.58  |1033.96     |4128.40                   |
